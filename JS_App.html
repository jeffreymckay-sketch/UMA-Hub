<script>
/**
 * ===================================================================
 *  CORE UI BEHAVIORS
 * ===================================================================
 * This script handles the primary user interface interactions, such
 * as the sidebar navigation toggle.
 */

document.addEventListener('DOMContentLoaded', function() {

    const sidebar = document.getElementById('app-sidebar');
    const toggleBtn = document.getElementById('nav-toggle-btn');

    // Check if essential UI elements are present.
    if (!sidebar || !toggleBtn) {
        console.error("CRITICAL UI FAILURE: The sidebar or its toggle button was not found in the DOM. The menu will not function.");
        // Display a visible error in case the console is not open.
        document.body.insertAdjacentHTML('beforeend', '<div style="position:fixed; top:10px; left:10px; padding:10px; background:red; color:white; z-index:10001;">Error: Sidebar components missing.</div>');
        return;
    }

    // Add the event listener that makes the menu button work.
    toggleBtn.addEventListener('click', function() {
        sidebar.classList.toggle('closed');
    });

});


/**
 * ===================================================================
 *  PAGE-SPECIFIC INITIALIZERS (IGNITION)
 * ===================================================================
 * These functions are called by the core navigator when a specific
 * page is loaded.
 */

function load_mst_support() {
    if (typeof loadSchedulingRosterData === 'function') {
        loadSchedulingRosterData();
    }
}

function load_tech_hub() {
    // This page is driven by user events within its view.
}

function load_data_mgmt() {
    // This page is driven by user events within its view.
}

</script>
