<!-- 1. MY DASHBOARD -->
<div id="page-dashboard" class="page active-page">
  <h1>My Dashboard</h1>
  
  <div id="admin-staff-selector-container" style="display:none; background: #e3f2fd; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #90caf9;">
      <label style="font-weight:bold; color:#003057;">Manage Staff Member:</label>
      <select id="dashboard-staff-select" onchange="handleDashboardStaffChange()" style="max-width: 300px; margin-left: 10px;">
          <option value="">Loading...</option>
      </select>
  </div>

  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 20px;">
      <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #ddd;">
          <h3>Availability</h3>
          <div id="my-availability-status" class="status-message"></div>
          <div class="form-group inline-group">
            <select id="avail-day" style="width: 110px;">
              <option value="Monday">Monday</option><option value="Tuesday">Tuesday</option>
              <option value="Wednesday">Wednesday</option><option value="Thursday">Thursday</option>
              <option value="Friday">Friday</option><option value="Saturday">Saturday</option><option value="Sunday">Sunday</option>
            </select>
            <input type="time" id="avail-start-time" value="09:00" style="width: 100px;">
            <span>to</span>
            <input type="time" id="avail-end-time" value="11:00" style="width: 100px;">
            <button class="button" id="avail-add-btn" onclick="handleAddNotAvailable()">Add</button>
          </div>
          <div id="my-availability-list" class="results-container"><p>Loading...</p></div>
      </div>
      <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #ddd;">
          <h3>Shift Preferences</h3>
          <div id="my-preferences-status" class="status-message"></div>
          <div id="my-preferences-list" class="results-container"><p>Loading preferences...</p></div>
      </div>
  </div>
</div>

<!-- 9. ANALYTICS & EXPLORER -->
<div id="page-analytics" class="page">
  <h1>Analytics & Explorer</h1>
  <div class="tab-nav">
      <div class="tab-nav-item active" onclick="navigateToSubTab(this, 'tab-an-inspector')">Calendar Inspector</div>
      <div class="tab-nav-item" onclick="navigateToSubTab(this, 'tab-an-wizard')">Report Wizard</div>
  </div>

  <!-- Tab 1: Calendar Inspector -->
  <div id="tab-an-inspector" class="tab-page active">
      <h3>View Current Calendar</h3>
      
      <div class="form-group">
          <label>Select Calendar(s)</label>
          <div id="mst-inspect-cal-container" style="max-height: 150px; overflow-y: auto; border: 1px solid #ccc; padding: 5px; background: #fff;">
              <select id="mst-inspect-calendar-select"><option>Loading...</option></select>
          </div>
      </div>

      <div class="form-group inline-group" style="align-items: flex-end;">
            <div style="width: 150px;"><label>Start Date</label><input type="date" id="inspect-start-date"></div>
            <div style="width: 150px;"><label>End Date</label><input type="date" id="inspect-end-date"></div>
            <button class="button" id="btn-inspect-cal" onclick="handleInspectCalendar()">View Events</button>
            <button class="button secondary" id="btn-export-cal" onclick="handleExportCalendarData()" style="display:none;">Export to Sheet</button>
      </div>
      <div style="margin-top: 15px;">
            <label><strong>Filter by Type:</strong></label>
            <div id="inspect-type-filters" style="display: flex; flex-wrap: wrap; gap: 15px; margin-top: 5px; padding: 10px; background: #f9f9f9; border-radius: 4px;">
                <span style="color:#666;">Loading types...</span>
            </div>
      </div>
      <div style="margin-top: 10px;">
            <input type="text" id="filter-exclude" placeholder="Exclude (e.g. Holiday)" style="width: 100%; max-width: 300px;">
      </div>
      <div id="inspect-status" class="status-message"></div>
      <div id="inspect-results" class="results-container"></div>
  </div>

  <!-- Tab 2: Wizard -->
  <div id="tab-an-wizard" class="tab-page">
      <h3>Pivot Table Generator</h3>
      <p>Generate a new Google Sheet report based on filtered data.</p>
      <div class="form-group">
          <label>Data Source</label>
          <select id="wizard-source-select">
              <option value="Report_Data">Master Report Data</option>
              <option value="TechHub_Shifts">Tech Hub Shifts</option>
              <option value="Course_Schedule">Course Schedule</option>
          </select>
      </div>
      <div class="form-group">
          <label>Filter By Column (Optional)</label>
          <div class="inline-group">
              <input type="text" id="wizard-filter-col" placeholder="Column Name (e.g. Role)">
              <input type="text" id="wizard-filter-val" placeholder="Value (e.g. Lead)">
          </div>
      </div>
      <button class="button" onclick="analytics_handleGenerateReport()">Generate Pivot Report</button>
      <div id="wizard-status" class="status-message"></div>
  </div>
</div>